import{S as v,i as b,s as k,v as $,w as m,x as _,p as i,n as u,A as g,j as z,l as x,f as d,d as p,t as O,g as Y,J as D,e as y,c as M,a as C,b as j,E as H,m as F,o as I,M as E,I as N,u as J,N as U}from"../chunks/vendor-dc5f7af6.js";import{s as K,f as Q,M as T,a as A,b as W,i as q,S}from"../chunks/PlaySection.svelte_svelte_type_style_lang-ed4e8af4.js";/* empty css                                                      */import"../chunks/array-20a0621b.js";import{S as X,M as Z,a as R}from"../chunks/MultisetFlavorSelector-5bbc583a.js";import{S as P}from"../chunks/index-52bfe701.js";function ee(f){let e;return{c(){e=O("Multiset Puzzle")},l(r){e=Y(r,"Multiset Puzzle")},m(r,t){d(r,e,t)},d(r){r&&p(e)}}}function te(f){let e,r;return e=new Z({}),e.$on("select",f[0]),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},p:D,i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function re(f){let e,r,t,n;return e=new P.Header({props:{$$slots:{default:[ee]},$$scope:{ctx:f}}}),t=new P.Content({props:{$$slots:{default:[te]},$$scope:{ctx:f}}}),{c(){$(e.$$.fragment),r=z(),$(t.$$.fragment)},l(l){m(e.$$.fragment,l),r=x(l),m(t.$$.fragment,l)},m(l,c){_(e,l,c),d(l,r,c),_(t,l,c),n=!0},p(l,c){const s={};c&2&&(s.$$scope={dirty:c,ctx:l}),e.$set(s);const o={};c&2&&(o.$$scope={dirty:c,ctx:l}),t.$set(o)},i(l){n||(i(e.$$.fragment,l),i(t.$$.fragment,l),n=!0)},o(l){u(e.$$.fragment,l),u(t.$$.fragment,l),n=!1},d(l){g(e,l),l&&p(r),g(t,l)}}}function ne(f){let e,r;return e=new P.Box({props:{fill:!0,$$slots:{default:[re]},$$scope:{ctx:f}}}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},p(t,n){const l={};n&2&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function le(f){let e,r;return e=new X({props:{w:640,h:640,$$slots:{default:[ne]},$$scope:{ctx:f}}}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},p(t,[n]){const l={};n&2&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function se(f){return[r=>{K(r.detail.flavor),Q()}]}class ae extends v{constructor(e){super();b(this,e,se,le,k,{})}}class oe extends v{constructor(e){super();b(this,e,null,null,k,{})}}function V(f,e,r){const t=f.slice();return t[3]=e[r],t}function B(f,e,r){const t=f.slice();return t[6]=e[r],t}function G(f){let e,r,t;return r=new T({props:{flavor:f[0].flavor,card:f[0].table[f[6]]}}),{c(){e=y("div"),$(r.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var l=C(e);m(r.$$.fragment,l),l.forEach(p),this.h()},h(){j(e,"class","card svelte-1xqrcl5")},m(n,l){d(n,e,l),_(r,e,null),t=!0},p(n,l){const c={};l&1&&(c.flavor=n[0].flavor),l&1&&(c.card=n[0].table[n[6]]),r.$set(c)},i(n){t||(i(r.$$.fragment,n),t=!0)},o(n){u(r.$$.fragment,n),t=!1},d(n){n&&p(e),g(r)}}}function L(f){let e,r,t,n=f[3],l=[];for(let s=0;s<n.length;s+=1)l[s]=G(B(f,n,s));const c=s=>u(l[s],1,1,()=>{l[s]=null});return{c(){e=y("div");for(let s=0;s<l.length;s+=1)l[s].c();r=z(),this.h()},l(s){e=M(s,"DIV",{class:!0});var o=C(e);for(let a=0;a<l.length;a+=1)l[a].l(o);r=x(o),o.forEach(p),this.h()},h(){j(e,"class","row svelte-1xqrcl5")},m(s,o){d(s,e,o);for(let a=0;a<l.length;a+=1)l[a].m(e,null);H(e,r),t=!0},p(s,o){if(o&5){n=s[3];let a;for(a=0;a<n.length;a+=1){const h=B(s,n,a);l[a]?(l[a].p(h,o),i(l[a],1)):(l[a]=G(h),l[a].c(),i(l[a],1),l[a].m(e,r))}for(F(),a=n.length;a<l.length;a+=1)c(a);I()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)i(l[o]);t=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)u(l[o]);t=!1},d(s){s&&p(e),E(l,s)}}}function ce(f){let e,r,t=f[2],n=[];for(let c=0;c<t.length;c+=1)n[c]=L(V(f,t,c));const l=c=>u(n[c],1,1,()=>{n[c]=null});return{c(){e=y("div");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=M(c,"DIV",{class:!0});var s=C(e);for(let o=0;o<n.length;o+=1)n[o].l(s);s.forEach(p),this.h()},h(){j(e,"class","table svelte-1xqrcl5")},m(c,s){d(c,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null);r=!0},p(c,[s]){if(s&5){t=c[2];let o;for(o=0;o<t.length;o+=1){const a=V(c,t,o);n[o]?(n[o].p(a,s),i(n[o],1)):(n[o]=L(a),n[o].c(),i(n[o],1),n[o].m(e,null))}for(F(),o=t.length;o<n.length;o+=1)l(o);I()}},i(c){if(!r){for(let s=0;s<t.length;s+=1)i(n[s]);r=!0}},o(c){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)u(n[s]);r=!1},d(c){c&&p(e),E(n,c)}}}function fe(f,e,r){let t;const n=R(A,"game");N(f,n,c=>r(0,t=c));let l=Array.rectRange(3,t.flavor.tableCards/3);return[t,n,l]}class ie extends v{constructor(e){super();b(this,e,fe,ce,k,{})}}function ue(f){let e,r;return e=new ie({}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function $e(f){let e,r;return e=new oe({}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function me(f){let e,r;return e=new ae({}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function _e(f){let e,r,t,n,l;const c=[me,$e,ue],s=[];function o(a,h){return a[0]===S.CONFIGURING?0:a[0]===S.READY?1:a[0]===S.PLAYING||a[0]===S.DONE?2:-1}return~(e=o(f))&&(r=s[e]=c[e](f)),n=new W({}),{c(){r&&r.c(),t=z(),$(n.$$.fragment)},l(a){r&&r.l(a),t=x(a),m(n.$$.fragment,a)},m(a,h){~e&&s[e].m(a,h),d(a,t,h),_(n,a,h),l=!0},p(a,[h]){let w=e;e=o(a),e!==w&&(r&&(F(),u(s[w],1,1,()=>{s[w]=null}),I()),~e?(r=s[e],r||(r=s[e]=c[e](a),r.c()),i(r,1),r.m(t.parentNode,t)):r=null)},i(a){l||(i(r),i(n.$$.fragment,a),l=!0)},o(a){u(r),u(n.$$.fragment,a),l=!1},d(a){~e&&s[e].d(a),a&&p(t),g(n,a)}}}function ge(f,e,r){let t;J(()=>{q()}),U(()=>{q()});const n=R(A,"status");return N(f,n,l=>r(0,t=l)),[t,n]}class pe extends v{constructor(e){super();b(this,e,ge,_e,k,{})}}function he(f){let e,r;return e=new pe({}),{c(){$(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,n){_(e,t,n),r=!0},p:D,i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}class ze extends v{constructor(e){super();b(this,e,null,he,k,{})}}export{ze as default};
