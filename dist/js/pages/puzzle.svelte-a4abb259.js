import{S as C,i as P,s as E,D as W,e as B,c as R,a as M,d as _,b as m,M as v,f as k,F as j,G as N,H as F,p as c,n as h,L as ve,N as Oe,K as ke,J as A,v as d,w as $,x as p,A as b,j as O,l as T,t as Z,g as x,O as ze,P as Te,Q as Ye,k as L,R as ee,I as Y,m as K,o as Q,E as ue,h as qe,u as Xe,T as Je}from"../chunks/vendor-2046ff8d.js";import{s as Ke,f as Qe,S as Ue,M as Ze,a as q,t as xe,b as et,i as Se,c as ae}from"../chunks/PlaySectionMenu.svelte_svelte_type_style_lang-68ddda4a.js";/* empty css                                                                */import"../chunks/array-20a0621b.js";import{S as ce,M as tt,a as X}from"../chunks/MultisetFlavorSelector-a5aab036.js";import{S as he}from"../chunks/index-07fd6a39.js";const S=a=>Object.entries(a).map(([e,r])=>`${e}:${r}`).join(";");function lt(a){let e,r,t;const n=a[6].default,s=W(n,a,a[5],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-94whdy"),m(e,"style",r=S({width:`${a[2]}px`,height:`${a[3]}px`,padding:`${a[1]}px`})),v(e,"visible",a[4]),v(e,"invisible",a[0])},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&32)&&j(s,n,l,l[5],t?F(n,l[5],o,null):N(l[5]),null),(!t||o&14&&r!==(r=S({width:`${l[2]}px`,height:`${l[3]}px`,padding:`${l[1]}px`})))&&m(e,"style",r),o&1&&v(e,"invisible",l[0])},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function nt(a,e,r){let{$$slots:t={},$$scope:n}=e,{invisible:s=void 0}=e;const l=!s;let{p:o=0}=e,{w:f=48}=e,{h:i=48}=e;return console.log("BOX?",f,i),a.$$set=u=>{"invisible"in u&&r(0,s=u.invisible),"p"in u&&r(1,o=u.p),"w"in u&&r(2,f=u.w),"h"in u&&r(3,i=u.h),"$$scope"in u&&r(5,n=u.$$scope)},[s,o,f,i,l,n,t]}class st extends C{constructor(e){super();P(this,e,nt,lt,E,{invisible:0,p:1,w:2,h:3})}}function rt(a){let e,r;const t=a[1].default,n=W(t,a,a[0],null);return{c(){e=B("div"),n&&n.c(),this.h()},l(s){e=R(s,"DIV",{class:!0});var l=M(e);n&&n.l(l),l.forEach(_),this.h()},h(){m(e,"class","box svelte-1lo8gr6")},m(s,l){k(s,e,l),n&&n.m(e,null),r=!0},p(s,[l]){n&&n.p&&(!r||l&1)&&j(n,t,s,s[0],r?F(t,s[0],l,null):N(s[0]),null)},i(s){r||(c(n,s),r=!0)},o(s){h(n,s),r=!1},d(s){s&&_(e),n&&n.d(s)}}}function at(a,e,r){let{$$slots:t={},$$scope:n}=e;return a.$$set=s=>{"$$scope"in s&&r(0,n=s.$$scope)},[n,t]}class ot extends C{constructor(e){super();P(this,e,at,rt,E,{})}}function ft(a){let e,r,t,n,s;const l=a[4].default,o=W(l,a,a[3],null);return{c(){e=B("div"),o&&o.c(),this.h()},l(f){e=R(f,"DIV",{class:!0,style:!0});var i=M(e);o&&o.l(i),i.forEach(_),this.h()},h(){m(e,"class","box svelte-kwiujw"),m(e,"style",r=S({width:`${a[0]}px`,height:`${a[1]}px`,padding:`${a[2]}px`}))},m(f,i){k(f,e,i),o&&o.m(e,null),t=!0,n||(s=[ve(e,"click",a[5]),ve(e,"touchend",a[6])],n=!0)},p(f,[i]){o&&o.p&&(!t||i&8)&&j(o,l,f,f[3],t?F(l,f[3],i,null):N(f[3]),null),(!t||i&7&&r!==(r=S({width:`${f[0]}px`,height:`${f[1]}px`,padding:`${f[2]}px`})))&&m(e,"style",r)},i(f){t||(c(o,f),t=!0)},o(f){h(o,f),t=!1},d(f){f&&_(e),o&&o.d(f),n=!1,Oe(s)}}}function it(a,e,r){let{$$slots:t={},$$scope:n}=e,{w:s=48}=e,{h:l=48}=e,{p:o=0}=e;function f(u){ke.call(this,a,u)}function i(u){ke.call(this,a,u)}return a.$$set=u=>{"w"in u&&r(0,s=u.w),"h"in u&&r(1,l=u.h),"p"in u&&r(2,o=u.p),"$$scope"in u&&r(3,n=u.$$scope)},[s,l,o,n,t,f,i]}class ut extends C{constructor(e){super();P(this,e,it,ft,E,{w:0,h:1,p:2})}}const _e={Box:st,Row:ot,Space:ut};function ct(a){let e,r,t;const n=a[6].default,s=W(n,a,a[5],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-z8zchr"),m(e,"style",r=S({width:a[0]?`${a[0]}px`:"auto",height:a[1]?`${a[1]}px`:"auto",padding:`${a[2]}px`,gap:`${a[3]}px`})),v(e,"vertical",a[4])},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&32)&&j(s,n,l,l[5],t?F(n,l[5],o,null):N(l[5]),null),(!t||o&15&&r!==(r=S({width:l[0]?`${l[0]}px`:"auto",height:l[1]?`${l[1]}px`:"auto",padding:`${l[2]}px`,gap:`${l[3]}px`})))&&m(e,"style",r),o&16&&v(e,"vertical",l[4])},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function ht(a,e,r){let{$$slots:t={},$$scope:n}=e,{w:s=void 0}=e,{h:l=void 0}=e,{p:o=0}=e,{gap:f=0}=e,{vertical:i=!1}=e;return a.$$set=u=>{"w"in u&&r(0,s=u.w),"h"in u&&r(1,l=u.h),"p"in u&&r(2,o=u.p),"gap"in u&&r(3,f=u.gap),"vertical"in u&&r(4,i=u.vertical),"$$scope"in u&&r(5,n=u.$$scope)},[s,l,o,f,i,n,t]}class _t extends C{constructor(e){super();P(this,e,ht,ct,E,{w:0,h:1,p:2,gap:3,vertical:4})}}function mt(a){let e,r,t;const n=a[8].default,s=W(n,a,a[7],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-otr6v0"),m(e,"style",r=S({width:a[0]?`${a[0]}px`:"auto",height:a[1]?`${a[1]}px`:"auto",padding:`${a[2]}px`,gap:`${a[3]}px`})),v(e,"horizontal",a[4]),v(e,"wrap",a[5]),v(e,"marked",a[6])},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&128)&&j(s,n,l,l[7],t?F(n,l[7],o,null):N(l[7]),null),(!t||o&15&&r!==(r=S({width:l[0]?`${l[0]}px`:"auto",height:l[1]?`${l[1]}px`:"auto",padding:`${l[2]}px`,gap:`${l[3]}px`})))&&m(e,"style",r),o&16&&v(e,"horizontal",l[4]),o&32&&v(e,"wrap",l[5]),o&64&&v(e,"marked",l[6])},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function gt(a,e,r){let{$$slots:t={},$$scope:n}=e,{w:s=void 0}=e,{h:l=void 0}=e,{p:o=0}=e,{gap:f=0}=e,{horizontal:i=!1}=e,{wrap:u=!1}=e,{marked:g=!1}=e;return a.$$set=w=>{"w"in w&&r(0,s=w.w),"h"in w&&r(1,l=w.h),"p"in w&&r(2,o=w.p),"gap"in w&&r(3,f=w.gap),"horizontal"in w&&r(4,i=w.horizontal),"wrap"in w&&r(5,u=w.wrap),"marked"in w&&r(6,g=w.marked),"$$scope"in w&&r(7,n=w.$$scope)},[s,l,o,f,i,u,g,n,t]}class dt extends C{constructor(e){super();P(this,e,gt,mt,E,{w:0,h:1,p:2,gap:3,horizontal:4,wrap:5,marked:6})}}function $t(a){let e,r;return{c(){e=B("div"),this.h()},l(t){e=R(t,"DIV",{class:!0,style:!0}),M(e).forEach(_),this.h()},h(){m(e,"class","box"),m(e,"style",r=S({width:a[0]?`${a[0]}px`:"auto",height:a[0]?`${a[0]}px`:"auto",flex:a[1]?"1 1 auto":"0 0 auto"}))},m(t,n){k(t,e,n)},p(t,[n]){n&3&&r!==(r=S({width:t[0]?`${t[0]}px`:"auto",height:t[0]?`${t[0]}px`:"auto",flex:t[1]?"1 1 auto":"0 0 auto"}))&&m(e,"style",r)},i:A,o:A,d(t){t&&_(e)}}}function pt(a,e,r){let{d:t=0}=e,{fill:n=void 0}=e;return a.$$set=s=>{"d"in s&&r(0,t=s.d),"fill"in s&&r(1,n=s.fill)},[t,n]}class bt extends C{constructor(e){super();P(this,e,pt,$t,E,{d:0,fill:1})}}const U={HStack:_t,VStack:dt,Empty:bt};function wt(a){let e,r,t;const n=a[7].default,s=W(n,a,a[6],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-it5oa4"),m(e,"style",r=S({width:`${a[0]}px`,height:`${a[1]}px`})),v(e,"selected",a[2]),v(e,"hasError",a[3]),v(e,"hasSuccess",a[4]),v(e,"hasBlues",a[5])},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&64)&&j(s,n,l,l[6],t?F(n,l[6],o,null):N(l[6]),null),(!t||o&3&&r!==(r=S({width:`${l[0]}px`,height:`${l[1]}px`})))&&m(e,"style",r),o&4&&v(e,"selected",l[2]),o&8&&v(e,"hasError",l[3]),o&16&&v(e,"hasSuccess",l[4]),o&32&&v(e,"hasBlues",l[5])},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function vt(a,e,r){let{$$slots:t={},$$scope:n}=e,{w:s=120}=e,{h:l=216}=e,{selected:o=!1}=e,{hasError:f=!1}=e,{hasSuccess:i=!1}=e,{hasBlues:u=!1}=e;return a.$$set=g=>{"w"in g&&r(0,s=g.w),"h"in g&&r(1,l=g.h),"selected"in g&&r(2,o=g.selected),"hasError"in g&&r(3,f=g.hasError),"hasSuccess"in g&&r(4,i=g.hasSuccess),"hasBlues"in g&&r(5,u=g.hasBlues),"$$scope"in g&&r(6,n=g.$$scope)},[s,l,o,f,i,u,n,t]}class Ce extends C{constructor(e){super();P(this,e,vt,wt,E,{w:0,h:1,selected:2,hasError:3,hasSuccess:4,hasBlues:5})}}function kt(a){let e,r,t;const n=a[6].default,s=W(n,a,a[5],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-1ebujcn"),m(e,"style",r=S({width:`${a[1]}px`,height:`${a[2]}px`,padding:`${a[3]}px`})),v(e,"visible",a[4]),v(e,"invisible",a[0])},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&32)&&j(s,n,l,l[5],t?F(n,l[5],o,null):N(l[5]),null),(!t||o&14&&r!==(r=S({width:`${l[1]}px`,height:`${l[2]}px`,padding:`${l[3]}px`})))&&m(e,"style",r),o&1&&v(e,"invisible",l[0])},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function zt(a,e,r){let{$$slots:t={},$$scope:n}=e,{invisible:s=void 0}=e;const l=!s;let{w:o=48}=e,{h:f=48}=e,{p:i=0}=e;return a.$$set=u=>{"invisible"in u&&r(0,s=u.invisible),"w"in u&&r(1,o=u.w),"h"in u&&r(2,f=u.h),"p"in u&&r(3,i=u.p),"$$scope"in u&&r(5,n=u.$$scope)},[s,o,f,i,l,n,t]}class St extends C{constructor(e){super();P(this,e,zt,kt,E,{invisible:0,w:1,h:2,p:3})}}function Ct(a){let e,r,t;const n=a[2].default,s=W(n,a,a[1],null);return{c(){e=B("div"),s&&s.c(),this.h()},l(l){e=R(l,"DIV",{class:!0,style:!0});var o=M(e);s&&s.l(o),o.forEach(_),this.h()},h(){m(e,"class","box svelte-18ogqje"),m(e,"style",r=S({width:"100%",height:"100%",padding:`${a[0]}px`}))},m(l,o){k(l,e,o),s&&s.m(e,null),t=!0},p(l,[o]){s&&s.p&&(!t||o&2)&&j(s,n,l,l[1],t?F(n,l[1],o,null):N(l[1]),null),(!t||o&1&&r!==(r=S({width:"100%",height:"100%",padding:`${l[0]}px`})))&&m(e,"style",r)},i(l){t||(c(s,l),t=!0)},o(l){h(s,l),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function Pt(a,e,r){let{$$slots:t={},$$scope:n}=e,{p:s=0}=e;return a.$$set=l=>{"p"in l&&r(0,s=l.p),"$$scope"in l&&r(1,n=l.$$scope)},[s,n,t]}class Et extends C{constructor(e){super();P(this,e,Pt,Ct,E,{p:0})}}function Ht(a){let e;return{c(){e=Z("Multiset Puzzle")},l(r){e=x(r,"Multiset Puzzle")},m(r,t){k(r,e,t)},d(r){r&&_(e)}}}function Dt(a){let e,r;return e=new tt({}),e.$on("select",a[0]),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p:A,i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Mt(a){let e,r,t,n;return e=new he.Header({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),t=new he.Content({props:{$$slots:{default:[Dt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment),r=O(),d(t.$$.fragment)},l(s){$(e.$$.fragment,s),r=T(s),$(t.$$.fragment,s)},m(s,l){p(e,s,l),k(s,r,l),p(t,s,l),n=!0},p(s,l){const o={};l&2&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const f={};l&2&&(f.$$scope={dirty:l,ctx:s}),t.$set(f)},i(s){n||(c(e.$$.fragment,s),c(t.$$.fragment,s),n=!0)},o(s){h(e.$$.fragment,s),h(t.$$.fragment,s),n=!1},d(s){b(e,s),s&&_(r),b(t,s)}}}function yt(a){let e,r;return e=new he.Box({props:{fill:!0,$$slots:{default:[Mt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&2&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Bt(a){let e,r;return e=new ce({props:{w:640,h:640,$$slots:{default:[yt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,[n]){const s={};n&2&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Rt(a){return[r=>{Ke(r.detail.flavor),Qe()}]}class Vt extends C{constructor(e){super();P(this,e,Rt,Bt,E,{})}}class It extends C{constructor(e){super();P(this,e,null,null,E,{})}}function Pe(a,e,r){const t=a.slice();return t[16]=e[r],t}function Ee(a){let e,r,t,n,s,l,o;return{c(){e=Te("use"),this.h()},l(f){e=Ye(f,"use",{class:!0,href:!0,x:!0,y:!0,width:!0,height:!0}),M(e).forEach(_),this.h()},h(){m(e,"class",r=""+(ze(`path ${a[4]}`)+" svelte-10o6onv")),m(e,"href",t=`#multiset-${a[5]}-${a[6]}`),m(e,"x",n=a[16].x-a[16].size/2),m(e,"y",s=a[16].y-a[16].size/2),m(e,"width",l=a[16].size),m(e,"height",o=a[16].size)},m(f,i){k(f,e,i)},p:A,d(f){f&&_(e)}}}function Wt(a){let e,r=a[10],t=[];for(let n=0;n<r.length;n+=1)t[n]=Ee(Pe(a,r,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=L()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=L()},m(n,s){for(let l=0;l<t.length;l+=1)t[l].m(n,s);k(n,e,s)},p(n,s){if(s&1136){r=n[10];let l;for(l=0;l<r.length;l+=1){const o=Pe(n,r,l);t[l]?t[l].p(o,s):(t[l]=Ee(o),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=r.length}},d(n){ee(t,n),n&&_(e)}}}function jt(a){let e,r,t,n;return r=new Ue({props:{x:[0,a[7]],y:[0,a[8]],style:S({transform:`scale(${a[9]})`}),$$slots:{default:[Wt]},$$scope:{ctx:a}}}),{c(){e=B("div"),d(r.$$.fragment),this.h()},l(s){e=R(s,"DIV",{class:!0,style:!0});var l=M(e);$(r.$$.fragment,l),l.forEach(_),this.h()},h(){m(e,"class",""+(ze(`card ${a[4]}`)+" svelte-10o6onv")),m(e,"style",t=S({width:`${a[2]}px`,height:`${a[3]}px`,transform:"rotate(0deg)"})),v(e,"selected",a[0]),v(e,"haserror",a[1])},m(s,l){k(s,e,l),p(r,e,null),n=!0},p(s,[l]){const o={};l&524288&&(o.$$scope={dirty:l,ctx:s}),r.$set(o),(!n||l&12&&t!==(t=S({width:`${s[2]}px`,height:`${s[3]}px`,transform:"rotate(0deg)"})))&&m(e,"style",t),l&1&&v(e,"selected",s[0]),l&2&&v(e,"haserror",s[1])},i(s){n||(c(r.$$.fragment,s),n=!0)},o(s){h(r.$$.fragment,s),n=!1},d(s){s&&_(e),b(r)}}}const G=96,te=12,Nt=12,Ft=24;function At(a,e,r){let{selected:t=!1}=e,{haserror:n=!1}=e,{flavor:s}=e,{card:l}=e,{w:o=120}=e,{h:f=216}=e,i=Ze.getCardAppearance(s,l),u=i.count,g=i.color,w=i.shape,y=i.fill;const V=G/2,D=G+Nt*2,I=V*3+te*2+Ft*2,ie=Math.min(o/D,f/I);let re=[[{x:D/2,y:I/2,size:G}],[{x:D/2,y:I/2-(te+V)/2,size:G},{x:D/2,y:I/2+(te+V)/2,size:G}],[{x:D/2,y:I/2-te-V,size:G},{x:D/2,y:I/2,size:G},{x:D/2,y:I/2+te+V,size:G}]][Number(u)-1];return a.$$set=H=>{"selected"in H&&r(0,t=H.selected),"haserror"in H&&r(1,n=H.haserror),"flavor"in H&&r(11,s=H.flavor),"card"in H&&r(12,l=H.card),"w"in H&&r(2,o=H.w),"h"in H&&r(3,f=H.h)},[t,n,o,f,g,w,y,D,I,ie,re,s,l]}class He extends C{constructor(e){super();P(this,e,At,jt,E,{selected:0,haserror:1,flavor:11,card:12,w:2,h:3})}}function De(a,e,r){const t=a.slice();return t[10]=e[r],t[12]=r,t}function Me(a,e,r){const t=a.slice();return t[13]=e[r],t}function Lt(a){let e,r;return e=new Et({props:{$$slots:{default:[Ot]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&65536&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Gt(a){let e,r,t=a[1].found[a[12]],n=[];for(let l=0;l<t.length;l+=1)n[l]=ye(Me(a,t,l));const s=l=>h(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=L()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=L()},m(l,o){for(let f=0;f<n.length;f+=1)n[f].m(l,o);k(l,e,o),r=!0},p(l,o){if(o&2){t=l[1].found[l[12]];let f;for(f=0;f<t.length;f+=1){const i=Me(l,t,f);n[f]?(n[f].p(i,o),c(n[f],1)):(n[f]=ye(i),n[f].c(),c(n[f],1),n[f].m(e.parentNode,e))}for(K(),f=t.length;f<n.length;f+=1)s(f);Q()}},i(l){if(!r){for(let o=0;o<t.length;o+=1)c(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);r=!1},d(l){ee(n,l),l&&_(e)}}}function Ot(a){let e=a[12]+1+"",r;return{c(){r=Z(e)},l(t){r=x(t,e)},m(t,n){k(t,r,n)},p:A,d(t){t&&_(r)}}}function Tt(a){let e,r,t;return e=new He({props:{flavor:a[1].flavor,card:a[13],w:me,h:ge}}),{c(){d(e.$$.fragment),r=O()},l(n){$(e.$$.fragment,n),r=T(n)},m(n,s){p(e,n,s),k(n,r,s),t=!0},p(n,s){const l={};s&2&&(l.flavor=n[1].flavor),s&2&&(l.card=n[13]),e.$set(l)},i(n){t||(c(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){b(e,n),n&&_(r)}}}function ye(a){let e,r;return e=new Ce({props:{w:me,h:ge,$$slots:{default:[Tt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&65538&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Yt(a){let e,r,t,n;const s=[Gt,Lt],l=[];function o(f,i){return f[1].found[f[12]]?0:1}return e=o(a),r=l[e]=s[e](a),{c(){r.c(),t=O()},l(f){r.l(f),t=T(f)},m(f,i){l[e].m(f,i),k(f,t,i),n=!0},p(f,i){let u=e;e=o(f),e===u?l[e].p(f,i):(K(),h(l[u],1,1,()=>{l[u]=null}),Q(),r=l[e],r?r.p(f,i):(r=l[e]=s[e](f),r.c()),c(r,1),r.m(t.parentNode,t))},i(f){n||(c(r),n=!0)},o(f){h(r),n=!1},d(f){l[e].d(f),f&&_(t)}}}function Be(a){let e,r;return e=new U.HStack({props:{w:a[3],h:a[4],gap:Re,$$slots:{default:[Yt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&65538&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function qt(a){let e,r,t=a[1].matches,n=[];for(let l=0;l<t.length;l+=1)n[l]=Be(De(a,t,l));const s=l=>h(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=L()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=L()},m(l,o){for(let f=0;f<n.length;f+=1)n[f].m(l,o);k(l,e,o),r=!0},p(l,o){if(o&26){t=l[1].matches;let f;for(f=0;f<t.length;f+=1){const i=De(l,t,f);n[f]?(n[f].p(i,o),c(n[f],1)):(n[f]=Be(i),n[f].c(),c(n[f],1),n[f].m(e.parentNode,e))}for(K(),f=t.length;f<n.length;f+=1)s(f);Q()}},i(l){if(!r){for(let o=0;o<t.length;o+=1)c(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);r=!1},d(l){ee(n,l),l&&_(e)}}}function Xt(a){let e,r;return e=new U.VStack({props:{p:le,gap:oe,horizontal:a[0],wrap:!0,$$slots:{default:[qt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.horizontal=t[0]),n&65538&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function Jt(a){let e,r;return e=new ce({props:{w:a[0]?a[7]:a[5],h:a[0]?a[8]:a[6],$$slots:{default:[Xt]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,[n]){const s={};n&1&&(s.w=t[0]?t[7]:t[5]),n&1&&(s.h=t[0]?t[8]:t[6]),n&65539&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}const me=40,ge=72,Re=6,oe=24,le=24,de=2;function Kt(a,e,r){let t,{horizontal:n=!1}=e;const s=X(q,"game");Y(a,s,y=>r(1,t=y));const l=me*t.flavor.cards+Re*(t.flavor.cards-1),o=ge,f=l+2*le,i=o*t.matches.length+oe*(t.matches.length-1)+2*le,u=Math.ceil(t.matches.length/de),g=l*u+oe*(u-1)+2*le,w=o*de+oe*(de-1)+2*le;return a.$$set=y=>{"horizontal"in y&&r(0,n=y.horizontal)},[n,t,s,l,o,f,i,g,w]}class Qt extends C{constructor(e){super();P(this,e,Kt,Jt,E,{horizontal:0})}}function Ut(a){let e,r,t=a[0].matches.length+"",n,s;return{c(){e=B("div"),r=Z("Find "),n=Z(t),s=Z(" matches!"),this.h()},l(l){e=R(l,"DIV",{class:!0});var o=M(e);r=x(o,"Find "),n=x(o,t),s=x(o," matches!"),o.forEach(_),this.h()},h(){m(e,"class","box svelte-mjefop")},m(l,o){k(l,e,o),ue(e,r),ue(e,n),ue(e,s)},p(l,[o]){o&1&&t!==(t=l[0].matches.length+"")&&qe(n,t)},i:A,o:A,d(l){l&&_(e)}}}function Zt(a,e,r){let t;const n=X(q,"game");return Y(a,n,s=>r(0,t=s)),[t,n]}class xt extends C{constructor(e){super();P(this,e,Zt,Ut,E,{})}}function Ve(a,e,r){const t=a.slice();return t[19]=e[r],t}function Ie(a,e,r){const t=a.slice();return t[22]=e[r],t}function el(a){let e,r;return e=new He({props:{flavor:a[4].flavor,card:a[4].table[a[22]],w:a[0],h:a[1]}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&16&&(s.flavor=t[4].flavor),n&16&&(s.card=t[4].table[t[22]]),n&1&&(s.w=t[0]),n&2&&(s.h=t[1]),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function tl(a){let e,r;return e=new Ce({props:{w:a[0],h:a[1],selected:a[5][a[22]],hasError:a[6][a[22]]==="error",hasSuccess:a[6][a[22]]==="success",hasBlues:a[6][a[22]]==="blues",$$slots:{default:[el]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&1&&(s.w=t[0]),n&2&&(s.h=t[1]),n&32&&(s.selected=t[5][t[22]]),n&64&&(s.hasError=t[6][t[22]]==="error"),n&64&&(s.hasSuccess=t[6][t[22]]==="success"),n&64&&(s.hasBlues=t[6][t[22]]==="blues"),n&33554451&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function We(a){let e,r;function t(){return a[16](a[22])}function n(){return a[17](a[22])}return e=new _e.Space({props:{w:a[0]+a[2],h:a[1]+a[2],p:a[2]/2,$$slots:{default:[tl]},$$scope:{ctx:a}}}),e.$on("click",t),e.$on("touchend",n),{c(){d(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,l){p(e,s,l),r=!0},p(s,l){a=s;const o={};l&5&&(o.w=a[0]+a[2]),l&6&&(o.h=a[1]+a[2]),l&4&&(o.p=a[2]/2),l&33554547&&(o.$$scope={dirty:l,ctx:a}),e.$set(o)},i(s){r||(c(e.$$.fragment,s),r=!0)},o(s){h(e.$$.fragment,s),r=!1},d(s){b(e,s)}}}function ll(a){let e,r,t=a[19],n=[];for(let l=0;l<t.length;l+=1)n[l]=We(Ie(a,t,l));const s=l=>h(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=O()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=T(l)},m(l,o){for(let f=0;f<n.length;f+=1)n[f].m(l,o);k(l,e,o),r=!0},p(l,o){if(o&9335){t=l[19];let f;for(f=0;f<t.length;f+=1){const i=Ie(l,t,f);n[f]?(n[f].p(i,o),c(n[f],1)):(n[f]=We(i),n[f].c(),c(n[f],1),n[f].m(e.parentNode,e))}for(K(),f=t.length;f<n.length;f+=1)s(f);Q()}},i(l){if(!r){for(let o=0;o<t.length;o+=1)c(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);r=!1},d(l){ee(n,l),l&&_(e)}}}function je(a){let e,r;return e=new _e.Row({props:{$$slots:{default:[ll]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&33554551&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function nl(a){let e,r,t=a[10],n=[];for(let l=0;l<t.length;l+=1)n[l]=je(Ve(a,t,l));const s=l=>h(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=L()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=L()},m(l,o){for(let f=0;f<n.length;f+=1)n[f].m(l,o);k(l,e,o),r=!0},p(l,o){if(o&9335){t=l[10];let f;for(f=0;f<t.length;f+=1){const i=Ve(l,t,f);n[f]?(n[f].p(i,o),c(n[f],1)):(n[f]=je(i),n[f].c(),c(n[f],1),n[f].m(e.parentNode,e))}for(K(),f=t.length;f<n.length;f+=1)s(f);Q()}},i(l){if(!r){for(let o=0;o<t.length;o+=1)c(n[o]);r=!0}},o(l){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)h(n[o]);r=!1},d(l){ee(n,l),l&&_(e)}}}function sl(a){let e,r;return e=new _e.Box({props:{invisible:!0,p:a[3]-a[2]/2,w:a[11],h:a[12],$$slots:{default:[nl]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,[n]){const s={};n&12&&(s.p=t[3]-t[2]/2),n&33554551&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function rl(a,e,r){let t,n,s;const l=X(q,"game");Y(a,l,z=>r(4,t=z));const o=X(q,"game.selected");Y(a,o,z=>r(5,n=z));const f=X(q,"game.infos");Y(a,f,z=>r(6,s=z));let i=Array.rectRange(3,t.flavor.tableCards/3),{tableCardW:u}=e,{tableCardH:g}=e,{tableDistance:w}=e,{tablePadding:y}=e,{tableRows:V}=e,{tableCols:D}=e;const I=u*D+w*(D-1)+y*2,ie=g*V+w*(V-1)+y*2;let re=!1;const H=(z,Ge)=>{if(Ge)re=!0;else if(re)return;xe(z)},Ae=z=>H(z,!1),Le=z=>H(z,!0);return a.$$set=z=>{"tableCardW"in z&&r(0,u=z.tableCardW),"tableCardH"in z&&r(1,g=z.tableCardH),"tableDistance"in z&&r(2,w=z.tableDistance),"tablePadding"in z&&r(3,y=z.tablePadding),"tableRows"in z&&r(14,V=z.tableRows),"tableCols"in z&&r(15,D=z.tableCols)},[u,g,w,y,t,n,s,l,o,f,i,I,ie,H,V,D,Ae,Le]}class al extends C{constructor(e){super();P(this,e,rl,sl,E,{tableCardW:0,tableCardH:1,tableDistance:2,tablePadding:3,tableRows:14,tableCols:15})}}function ol(a){let e,r;return e=new Qt({props:{horizontal:a[10]==="bottom"}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&1024&&(s.horizontal=t[10]==="bottom"),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function fl(a){let e,r;return e=new xt({}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function il(a){let e,r,t,n;return e=new U.HStack({props:{w:a[10]==="right"?J:a[2],h:a[10]==="right"?a[3]-fe:ne,$$slots:{default:[ol]},$$scope:{ctx:a}}}),t=new U.HStack({props:{w:a[10]==="right"?J:a[2],h:a[10]==="right"?fe:se,$$slots:{default:[fl]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment),r=O(),d(t.$$.fragment)},l(s){$(e.$$.fragment,s),r=T(s),$(t.$$.fragment,s)},m(s,l){p(e,s,l),k(s,r,l),p(t,s,l),n=!0},p(s,l){const o={};l&1024&&(o.w=s[10]==="right"?J:s[2]),l&1024&&(o.h=s[10]==="right"?s[3]-fe:ne),l&3072&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const f={};l&1024&&(f.w=s[10]==="right"?J:s[2]),l&1024&&(f.h=s[10]==="right"?fe:se),l&2048&&(f.$$scope={dirty:l,ctx:s}),t.$set(f)},i(s){n||(c(e.$$.fragment,s),c(t.$$.fragment,s),n=!0)},o(s){h(e.$$.fragment,s),h(t.$$.fragment,s),n=!1},d(s){b(e,s),s&&_(r),b(t,s)}}}function ul(a){let e,r;return e=new U.VStack({props:{$$slots:{default:[il]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&3072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function cl(a){let e,r,t,n;return e=new al({props:{tableCardW:Ne,tableCardH:Fe,tableDistance:$e,tablePadding:pe,tableRows:be,tableCols:a[1]}}),t=new St({props:{w:a[10]==="right"?J:a[2],h:a[10]==="right"?a[3]:ne+se,$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment),r=O(),d(t.$$.fragment)},l(s){$(e.$$.fragment,s),r=T(s),$(t.$$.fragment,s)},m(s,l){p(e,s,l),k(s,r,l),p(t,s,l),n=!0},p(s,l){const o={};l&1024&&(o.w=s[10]==="right"?J:s[2]),l&1024&&(o.h=s[10]==="right"?s[3]:ne+se),l&3072&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(c(e.$$.fragment,s),c(t.$$.fragment,s),n=!0)},o(s){h(e.$$.fragment,s),h(t.$$.fragment,s),n=!1},d(s){b(e,s),s&&_(r),b(t,s)}}}function hl(a){let e,r;return e=new U.HStack({props:{vertical:a[10]==="bottom",w:a[10]==="right"?a[4]:a[6],h:a[10]==="right"?a[5]:a[7],gap:we,$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,n){const s={};n&1024&&(s.vertical=t[10]==="bottom"),n&1024&&(s.w=t[10]==="right"?t[4]:t[6]),n&1024&&(s.h=t[10]==="right"?t[5]:t[7]),n&3072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function _l(a){let e,r;return e=new ce({props:{sizes:{right:{w:a[4],h:a[5]},bottom:{w:a[6],h:a[7]}},$$slots:{default:[hl,({size:t})=>({10:t}),({size:t})=>t?1024:0]},$$scope:{ctx:a}}}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p(t,[n]){const s={};n&3072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}const Ne=120,Fe=216,$e=36,pe=60,be=3,we=60,J=216,fe=120,ne=240,se=80;function ml(a,e,r){let t;const n=X(q,"game");Y(a,n,w=>r(8,t=w)),Array.rectRange(3,t.flavor.tableCards/3);const s=Math.ceil(t.flavor.tableCards/3),l=Ne*s+$e*(s-1)+pe*2,o=Fe*be+$e*(be-1)+pe*2,f=l+we+J,i=o,u=l,g=o+we+ne+se;return[n,s,l,o,f,i,u,g]}class gl extends C{constructor(e){super();P(this,e,ml,_l,E,{})}}function dl(a){let e,r;return e=new gl({}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function $l(a){let e,r;return e=new It({}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function pl(a){let e,r;return e=new Vt({}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}function bl(a){let e,r,t,n,s;const l=[pl,$l,dl],o=[];function f(i,u){return i[0]===ae.CONFIGURING?0:i[0]===ae.READY?1:i[0]===ae.PLAYING||i[0]===ae.DONE?2:-1}return~(e=f(a))&&(r=o[e]=l[e](a)),n=new et({}),{c(){r&&r.c(),t=O(),d(n.$$.fragment)},l(i){r&&r.l(i),t=T(i),$(n.$$.fragment,i)},m(i,u){~e&&o[e].m(i,u),k(i,t,u),p(n,i,u),s=!0},p(i,[u]){let g=e;e=f(i),e!==g&&(r&&(K(),h(o[g],1,1,()=>{o[g]=null}),Q()),~e?(r=o[e],r||(r=o[e]=l[e](i),r.c()),c(r,1),r.m(t.parentNode,t)):r=null)},i(i){s||(c(r),c(n.$$.fragment,i),s=!0)},o(i){h(r),h(n.$$.fragment,i),s=!1},d(i){~e&&o[e].d(i),i&&_(t),b(n,i)}}}function wl(a,e,r){let t;Xe(()=>{Se()}),Je(()=>{Se()});const n=X(q,"status");return Y(a,n,s=>r(0,t=s)),[t,n]}class vl extends C{constructor(e){super();P(this,e,wl,bl,E,{})}}function kl(a){let e,r;return e=new vl({}),{c(){d(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){p(e,t,n),r=!0},p:A,i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){b(e,t)}}}class Dl extends C{constructor(e){super();P(this,e,null,kl,E,{})}}export{Dl as default};
