import{S as y,i as z,s as w,e as g,j as x,c as d,a as p,l as q,d as h,b as v,f as m,E as B,p as f,v as $,w as b,x as C,J as E,n as _,A as M,m as j,o as D,M as P}from"../chunks/vendor-992e83d4.js";import{M as V,a as S,b as R,c as T,f as J}from"../chunks/MultisetPuzzleView.svelte_svelte_type_style_lang-6518423c.js";import"../chunks/Content.svelte_svelte_type_style_lang-a3f1a3a9.js";/* empty css                                                   */const N={equals:(a,e)=>a.length===e.length&&a.every((r,t)=>a[t]===e[t])},O={create:a=>{const e=S.generate(a),r=Math.ceil(a.tableCards/2);let t=e.splice(0,r),i=0;for(;t.length<a.tableCards;){const n=t.sampleFew(a.cards-1),c=V.getMatch(a,n);if(t.some(o=>N.equals(o,c))){if(i+=1,i>e.length)break;continue}t.push(c)}if(console.log("TABLE FILLED",t.length),t.length<a.tableCards){const c=e.filter(o=>!t.includes(o)).sampleFew(a.tableCards-t.length);t=t.concat(c)}return{flavor:a,table:t,count:V.getMatchCount(a,t)}}};function F(a,e,r){const t=a.slice();return t[3]=e[r],t}function I(a,e,r){const t=a.slice();return t[6]=e[r],t}function L(a){let e,r,t;return r=new T({props:{flavor:a[0].flavor,card:a[0].table[a[6]]}}),{c(){e=g("div"),$(r.$$.fragment),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=p(e);b(r.$$.fragment,n),n.forEach(h),this.h()},h(){v(e,"class","card svelte-1xqrcl5")},m(i,n){m(i,e,n),C(r,e,null),t=!0},p:E,i(i){t||(f(r.$$.fragment,i),t=!0)},o(i){_(r.$$.fragment,i),t=!1},d(i){i&&h(e),M(r)}}}function A(a){let e,r,t,i=a[3],n=[];for(let o=0;o<i.length;o+=1)n[o]=L(I(a,i,o));const c=o=>_(n[o],1,1,()=>{n[o]=null});return{c(){e=g("div");for(let o=0;o<n.length;o+=1)n[o].c();r=x(),this.h()},l(o){e=d(o,"DIV",{class:!0});var l=p(e);for(let s=0;s<n.length;s+=1)n[s].l(l);r=q(l),l.forEach(h),this.h()},h(){v(e,"class","row svelte-1xqrcl5")},m(o,l){m(o,e,l);for(let s=0;s<n.length;s+=1)n[s].m(e,null);B(e,r),t=!0},p(o,l){if(l&3){i=o[3];let s;for(s=0;s<i.length;s+=1){const u=I(o,i,s);n[s]?(n[s].p(u,l),f(n[s],1)):(n[s]=L(u),n[s].c(),f(n[s],1),n[s].m(e,r))}for(j(),s=i.length;s<n.length;s+=1)c(s);D()}},i(o){if(!t){for(let l=0;l<i.length;l+=1)f(n[l]);t=!0}},o(o){n=n.filter(Boolean);for(let l=0;l<n.length;l+=1)_(n[l]);t=!1},d(o){o&&h(e),P(n,o)}}}function U(a){let e,r,t,i,n=a[1],c=[];for(let l=0;l<n.length;l+=1)c[l]=A(F(a,n,l));const o=l=>_(c[l],1,1,()=>{c[l]=null});return t=new R({}),{c(){e=g("div");for(let l=0;l<c.length;l+=1)c[l].c();r=x(),$(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var s=p(e);for(let u=0;u<c.length;u+=1)c[u].l(s);s.forEach(h),r=q(l),b(t.$$.fragment,l),this.h()},h(){v(e,"class","table svelte-1xqrcl5")},m(l,s){m(l,e,s);for(let u=0;u<c.length;u+=1)c[u].m(e,null);m(l,r,s),C(t,l,s),i=!0},p(l,[s]){if(s&3){n=l[1];let u;for(u=0;u<n.length;u+=1){const k=F(l,n,u);c[u]?(c[u].p(k,s),f(c[u],1)):(c[u]=A(k),c[u].c(),f(c[u],1),c[u].m(e,null))}for(j(),u=n.length;u<c.length;u+=1)o(u);D()}},i(l){if(!i){for(let s=0;s<n.length;s+=1)f(c[s]);f(t.$$.fragment,l),i=!0}},o(l){c=c.filter(Boolean);for(let s=0;s<c.length;s+=1)_(c[s]);_(t.$$.fragment,l),i=!1},d(l){l&&h(e),P(c,l),l&&h(r),M(t,l)}}}function G(a){let e=J.mini,r=O.create(e),t=Array.rectRange(3,e.tableCards/3);return console.log("COUNT:",r.count),[r,t]}class H extends y{constructor(e){super();z(this,e,G,U,w,{})}}function K(a){let e,r;return e=new H({}),{c(){$(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,i){C(e,t,i),r=!0},p:E,i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){_(e.$$.fragment,t),r=!1},d(t){M(e,t)}}}class Z extends y{constructor(e){super();z(this,e,null,K,w,{})}}export{Z as default};
