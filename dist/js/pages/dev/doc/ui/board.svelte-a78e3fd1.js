import{S as F,i as M,s as B,U as k,V as S,a as C,d as g,b as d,f as y,G as Z,K as E,v as p,w as b,x as w,p as m,n as $,A as v,q as ee,F as X,j,l as D,m as Y,o as q,H as N,I,J,E as W,C as te,M as K,aa as T,D as le,t as re,g as ne,k as U}from"../../../../chunks/vendor-337f2982.js";import"../../../../chunks/ParrotPlaceholder.svelte_svelte_type_style_lang-17c5e8e7.js";import{H as se}from"../../../../chunks/Heading-343dded9.js";import{S as ae}from"../../../../chunks/SVG-62b467ff.js";import{c as G}from"../../../../chunks/css-f9214308.js";function L(l){let e,r;return{c(){e=k("path"),this.h()},l(t){e=S(t,"path",{d:!0,class:!0}),C(e).forEach(g),this.h()},h(){d(e,"d",r=`M ${l[0]-l[11]} ${l[1]+l[10]} l ${l[6]} ${l[7]} l ${l[2]} 0 l 0 ${-l[2]} l ${-l[6]} ${-l[7]} l ${-l[2]} 0 Z`),d(e,"class","shadow svelte-hcyxvd")},m(t,s){y(t,e,s)},p(t,s){s&3271&&r!==(r=`M ${t[0]-t[11]} ${t[1]+t[10]} l ${t[6]} ${t[7]} l ${t[2]} 0 l 0 ${-t[2]} l ${-t[6]} ${-t[7]} l ${-t[2]} 0 Z`)&&d(e,"d",r)},d(t){t&&g(e)}}}function fe(l){let e,r,t,s,f,n,u,o=l[8]&&L(l);return{c(){e=k("g"),o&&o.c(),r=k("path"),s=k("path"),n=k("path"),this.h()},l(i){e=S(i,"g",{style:!0});var a=C(e);o&&o.l(a),r=S(a,"path",{d:!0,class:!0}),C(r).forEach(g),s=S(a,"path",{d:!0,class:!0}),C(s).forEach(g),n=S(a,"path",{d:!0,class:!0}),C(n).forEach(g),a.forEach(g),this.h()},h(){d(r,"d",t=`M ${l[0]-l[11]} ${l[1]-l[10]} l 0 ${l[3]} l ${l[4]} ${-l[5]} l 0 ${-l[3]} Z`),d(r,"class","sun svelte-hcyxvd"),d(s,"d",f=`M ${l[0]-l[11]} ${l[1]+l[10]} l ${l[2]} 0 l ${l[4]} ${-l[5]} l ${-l[2]} 0 Z`),d(s,"class","shade svelte-hcyxvd"),d(n,"d",u=`M ${l[0]+l[4]-l[11]} ${l[1]-l[5]-l[10]} l 0 ${l[3]} l ${l[2]} 0 l 0 ${-l[3]} Z`),d(n,"class","face svelte-hcyxvd"),d(e,"style",l[9])},m(i,a){y(i,e,a),o&&o.m(e,null),Z(e,r),Z(e,s),Z(e,n)},p(i,[a]){i[8]?o?o.p(i,a):(o=L(i),o.c(),o.m(e,r)):o&&(o.d(1),o=null),a&3131&&t!==(t=`M ${i[0]-i[11]} ${i[1]-i[10]} l 0 ${i[3]} l ${i[4]} ${-i[5]} l 0 ${-i[3]} Z`)&&d(r,"d",t),a&3127&&f!==(f=`M ${i[0]-i[11]} ${i[1]+i[10]} l ${i[2]} 0 l ${i[4]} ${-i[5]} l ${-i[2]} 0 Z`)&&d(s,"d",f),a&3135&&u!==(u=`M ${i[0]+i[4]-i[11]} ${i[1]-i[5]-i[10]} l 0 ${i[3]} l ${i[2]} 0 l 0 ${-i[3]} Z`)&&d(n,"d",u),a&512&&d(e,"style",i[9])},i:E,o:E,d(i){i&&g(e),o&&o.d()}}}function oe(l,e,r){let t,s,{cx:f}=e,{cy:n}=e,{w:u}=e,{h:o=u}=e,{zx:i}=e,{zy:a}=e,{dshx:c=3}=e,{dshy:h=2}=e,{shadow:z=!0}=e,{style:H=void 0}=e;return l.$$set=_=>{"cx"in _&&r(0,f=_.cx),"cy"in _&&r(1,n=_.cy),"w"in _&&r(2,u=_.w),"h"in _&&r(3,o=_.h),"zx"in _&&r(4,i=_.zx),"zy"in _&&r(5,a=_.zy),"dshx"in _&&r(6,c=_.dshx),"dshy"in _&&r(7,h=_.dshy),"shadow"in _&&r(8,z=_.shadow),"style"in _&&r(9,H=_.style)},l.$$.update=()=>{l.$$.dirty&4&&r(11,t=u/2),l.$$.dirty&8&&r(10,s=o/2)},[f,n,u,o,i,a,c,h,z,H,s,t]}class V extends F{constructor(e){super();M(this,e,oe,fe,B,{cx:0,cy:1,w:2,h:3,zx:4,zy:5,dshx:6,dshy:7,shadow:8,style:9})}}function O(l,e,r){const t=l.slice();return t[4]=e[r],t}function Q(l){let e,r;return e=new V({props:{cx:l[0].fieldC(l[4][0],l[4][1]).cx,cy:l[0].fieldC(l[4][0],l[4][1]).cy,zx:0,zy:0,w:l[0].fieldSize,h:l[0].fieldSize,shadow:!1,style:G({"--face":l[4][0]%2==l[4][1]%2?"var(--parrot-color-water)":"var(--parrot-color-empty)"})}}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p:E,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function ie(l){let e,r,t,s;e=new V({props:{cx:l[0].boardFaceCX-l[0].zx,cy:l[0].boardFaceCY,zx:l[0].zx,zy:l[0].zy,w:l[0].boardFaceW,h:l[0].boardFaceH,shadow:!1,style:G({"--face":"var(--parrot-color-energy)","--sun":"var(--parrot-color-energy)","--shade":"var(--parrot-color-energy)","--stroke":"#00000080","--stroke-width":"1"})}});let f=l[0].fields,n=[];for(let a=0;a<f.length;a+=1)n[a]=Q(O(l,f,a));const u=a=>$(n[a],1,1,()=>{n[a]=null}),o=l[1].default,i=X(o,l,l[2],null);return{c(){p(e.$$.fragment),r=j();for(let a=0;a<n.length;a+=1)n[a].c();t=j(),i&&i.c()},l(a){b(e.$$.fragment,a),r=D(a);for(let c=0;c<n.length;c+=1)n[c].l(a);t=D(a),i&&i.l(a)},m(a,c){w(e,a,c),y(a,r,c);for(let h=0;h<n.length;h+=1)n[h].m(a,c);y(a,t,c),i&&i.m(a,c),s=!0},p(a,c){if(c&1){f=a[0].fields;let h;for(h=0;h<f.length;h+=1){const z=O(a,f,h);n[h]?(n[h].p(z,c),m(n[h],1)):(n[h]=Q(z),n[h].c(),m(n[h],1),n[h].m(t.parentNode,t))}for(Y(),h=f.length;h<n.length;h+=1)u(h);q()}i&&i.p&&(!s||c&4)&&N(i,o,a,a[2],s?J(o,a[2],c,null):I(a[2]),null)},i(a){if(!s){m(e.$$.fragment,a);for(let c=0;c<f.length;c+=1)m(n[c]);m(i,a),s=!0}},o(a){$(e.$$.fragment,a),n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)$(n[c]);$(i,a),s=!1},d(a){v(e,a),a&&g(r),W(n,a),a&&g(t),i&&i.d(a)}}}function ue(l){let e,r;return e=new ae({props:{x:[0,l[0].feltW],y:[0,l[0].feltH],$$slots:{default:[ie]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p(t,[s]){const f={};s&4&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}const ce=(l,e)=>{const r=80,t=12,s=l*r+2*t,f=e*r+2*t,n=4,u=2*n,o=24,i=s+n+2*o,a=f+u+2*o,c=i/2+n/2,h=o+u+f/2,z=o+n+t+r/2,H=o+t+r/2,_=Array.range(l).flatMap(A=>Array.range(e).map(P=>[A,P]));return{fieldSize:r,boardFacePadding:t,boardFaceW:s,boardFaceH:f,zx:n,zy:u,feltPadding:o,feltW:i,feltH:a,boardFaceCX:c,boardFaceCY:h,field0CX:z,field0CY:H,fields:_,fieldC:(A,P)=>({cx:z+A*r,cy:H+P*r})}};let he=6,de=4;function _e(l,e,r){let{$$slots:t={},$$scope:s}=e;const f=ce(he,de),n=te(f);return ee("boardDims",n),console.log("D?",f),l.$$set=u=>{"$$scope"in u&&r(2,s=u.$$scope)},[f,t,s]}class me extends F{constructor(e){super();M(this,e,_e,ue,B,{})}}function ge(l){let e,r,t,s,f,n,u,o;const i=l[6].default,a=X(i,l,l[5],null);return{c(){e=k("g"),r=k("rect"),a&&a.c(),this.h()},l(c){e=S(c,"g",{transform:!0,class:!0});var h=C(e);r=S(h,"rect",{class:!0,width:!0,height:!0,x:!0,y:!0}),C(r).forEach(g),a&&a.l(h),h.forEach(g),this.h()},h(){d(r,"class","box svelte-1olbu99"),d(r,"width",t=l[2].fieldSize),d(r,"height",s=l[2].fieldSize),d(r,"x",f=-l[2].fieldSize/2),d(r,"y",n=-l[2].fieldSize/2),K(r,"odd",l[0]%2==l[1]%2),d(e,"transform",u=`translate(${l[3].cx} ${l[3].cy})`),d(e,"class","group svelte-1olbu99")},m(c,h){y(c,e,h),Z(e,r),a&&a.m(e,null),o=!0},p(c,[h]){(!o||h&4&&t!==(t=c[2].fieldSize))&&d(r,"width",t),(!o||h&4&&s!==(s=c[2].fieldSize))&&d(r,"height",s),(!o||h&4&&f!==(f=-c[2].fieldSize/2))&&d(r,"x",f),(!o||h&4&&n!==(n=-c[2].fieldSize/2))&&d(r,"y",n),h&3&&K(r,"odd",c[0]%2==c[1]%2),a&&a.p&&(!o||h&32)&&N(a,i,c,c[5],o?J(i,c[5],h,null):I(c[5]),null),(!o||h&8&&u!==(u=`translate(${c[3].cx} ${c[3].cy})`))&&d(e,"transform",u)},i(c){o||(m(a,c),o=!0)},o(c){$(a,c),o=!1},d(c){c&&g(e),a&&a.d(c)}}}function $e(l,e,r){let t,{$$slots:s={},$$scope:f}=e,{x:n}=e,{y:u}=e;const o=T("boardDims");le(l,o,a=>r(2,t=a));let i;return l.$$set=a=>{"x"in a&&r(0,n=a.x),"y"in a&&r(1,u=a.y),"$$scope"in a&&r(5,f=a.$$scope)},l.$$.update=()=>{l.$$.dirty&7&&r(3,i=t.fieldC(n,u))},[n,u,t,i,o,f,s]}class ye extends F{constructor(e){super();M(this,e,$e,ge,B,{x:0,y:1})}}function pe(l){let e,r;return e=new V({props:{cx:0,cy:0,zx:4,zy:8,w:60,h:60,shadow:!1,style:G({"--face":"var(--parrot-color-empty)","--sun":"var(--parrot-color-empty)","--shade":"var(--parrot-color-empty)","--stroke-width":"1","--stroke":"#00000080"})}}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p:E,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function be(l){return T("boardDims"),[]}class we extends F{constructor(e){super();M(this,e,be,pe,B,{})}}function R(l,e,r){const t=l.slice();return t[1]=e[r],t}function ve(l,e,r){const t=l.slice();return t[4]=e[r],t}function ze(l){let e;return{c(){e=re("Board")},l(r){e=ne(r,"Board")},m(r,t){y(r,e,t)},d(r){r&&g(e)}}}function ke(l){let e,r;return e=new we({}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Se(l){let e,r,t=l[1].contents,s=[];for(let f=0;f<t.length;f+=1)s[f]=ke(ve(l,t,f));return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=j()},l(f){for(let n=0;n<s.length;n+=1)s[n].l(f);e=D(f)},m(f,n){for(let u=0;u<s.length;u+=1)s[u].m(f,n);y(f,e,n),r=!0},p:E,i(f){if(!r){for(let n=0;n<t.length;n+=1)m(s[n]);r=!0}},o(f){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)$(s[n]);r=!1},d(f){W(s,f),f&&g(e)}}}function x(l){let e,r;return e=new ye({props:{x:l[1].x,y:l[1].y,$$slots:{default:[Se]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p(t,s){const f={};s&128&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}function Ce(l){let e,r,t=l[0],s=[];for(let n=0;n<t.length;n+=1)s[n]=x(R(l,t,n));const f=n=>$(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=U()},l(n){for(let u=0;u<s.length;u+=1)s[u].l(n);e=U()},m(n,u){for(let o=0;o<s.length;o+=1)s[o].m(n,u);y(n,e,u),r=!0},p(n,u){if(u&1){t=n[0];let o;for(o=0;o<t.length;o+=1){const i=R(n,t,o);s[o]?(s[o].p(i,u),m(s[o],1)):(s[o]=x(i),s[o].c(),m(s[o],1),s[o].m(e.parentNode,e))}for(Y(),o=t.length;o<s.length;o+=1)f(o);q()}},i(n){if(!r){for(let u=0;u<t.length;u+=1)m(s[u]);r=!0}},o(n){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);r=!1},d(n){W(s,n),n&&g(e)}}}function Fe(l){let e,r,t,s;return e=new se({props:{$$slots:{default:[ze]},$$scope:{ctx:l}}}),t=new me({props:{$$slots:{default:[Ce]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=j(),p(t.$$.fragment)},l(f){b(e.$$.fragment,f),r=D(f),b(t.$$.fragment,f)},m(f,n){w(e,f,n),y(f,r,n),w(t,f,n),s=!0},p(f,[n]){const u={};n&128&&(u.$$scope={dirty:n,ctx:f}),e.$set(u);const o={};n&128&&(o.$$scope={dirty:n,ctx:f}),t.$set(o)},i(f){s||(m(e.$$.fragment,f),m(t.$$.fragment,f),s=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),s=!1},d(f){v(e,f),f&&g(r),v(t,f)}}}function Me(l){return[Array.range(6).flatMap(r=>Array.range(4).map(t=>{const s=[];return r===0&&t===2&&s.push({piece:"tile"}),r===3&&t===3&&s.push({piece:"tile"}),{x:r,y:t,contents:s}}))]}class Be extends F{constructor(e){super();M(this,e,Me,Fe,B,{})}}function Ee(l){let e,r;return e=new Be({}),{c(){p(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),r=!0},p:E,i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){v(e,t)}}}class We extends F{constructor(e){super();M(this,e,null,Ee,B,{})}}export{We as default};
