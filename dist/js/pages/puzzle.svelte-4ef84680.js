import{S as E,i as I,s as D,e as b,j as M,t as R,c as k,a as z,d as $,l as V,g as G,M as Z,b as p,f as S,E as y,L as ee,J as j,N as F,O as te,v as m,w as h,x as d,p as f,n as u,A as g,m as P,o as A,I as L,u as re,P as le}from"../chunks/vendor-2ee6ea9e.js";import{f as ne,s as se,a as ae,M as ce,b as B,c as oe,i as Y,S as C}from"../chunks/PlaySection.svelte_svelte_type_style_lang-18f42439.js";/* empty css                                                      */import"../chunks/array-20a0621b.js";import{S as ie,a as H}from"../chunks/atom-e40a61b6.js";import{S as N}from"../chunks/index-fdaeb1dd.js";function J(o,e,r){const t=o.slice();return t[4]=e[r][0],t[5]=e[r][1],t}function U(o){let e,r,t,l,n,s,a=o[4]+"",i,c,_,x;function X(){return o[2](o[5])}return{c(){e=b("div"),r=b("div"),t=b("img"),n=M(),s=b("div"),i=R(a),c=M(),this.h()},l(w){e=k(w,"DIV",{class:!0});var v=z(e);r=k(v,"DIV",{class:!0});var q=z(r);t=k(q,"IMG",{src:!0,alt:!0,class:!0}),q.forEach($),n=V(v),s=k(v,"DIV",{class:!0});var O=z(s);i=G(O,a),O.forEach($),c=V(v),v.forEach($),this.h()},h(){Z(t.src,l=`/assets/i/multiset/flavors/${o[5].name}.png`)||p(t,"src",l),p(t,"alt","cover"),p(t,"class","svelte-1a50h4a"),p(r,"class","picture svelte-1a50h4a"),p(s,"class","name svelte-1a50h4a"),p(e,"class","flavor svelte-1a50h4a")},m(w,v){S(w,e,v),y(e,r),y(r,t),y(e,n),y(e,s),y(s,i),y(e,c),_||(x=ee(e,"click",X),_=!0)},p(w,v){o=w},d(w){w&&$(e),_=!1,x()}}}function fe(o){let e,r=o[0],t=[];for(let l=0;l<r.length;l+=1)t[l]=U(J(o,r,l));return{c(){e=b("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=k(l,"DIV",{class:!0});var n=z(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach($),this.h()},h(){p(e,"class","box svelte-1a50h4a")},m(l,n){S(l,e,n);for(let s=0;s<t.length;s+=1)t[s].m(e,null)},p(l,[n]){if(n&3){r=l[0];let s;for(s=0;s<r.length;s+=1){const a=J(l,r,s);t[s]?t[s].p(a,n):(t[s]=U(a),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}},i:j,o:j,d(l){l&&$(e),F(t,l)}}}function ue(o){const e=te(),r=Object.entries(ne),t=n=>{e("select",{flavor:n})};return[r,t,n=>t(n)]}class $e extends E{constructor(e){super();I(this,e,ue,fe,D,{})}}function _e(o){let e;return{c(){e=R("Multiset Puzzle")},l(r){e=G(r,"Multiset Puzzle")},m(r,t){S(r,e,t)},d(r){r&&$(e)}}}function me(o){let e,r;return e=new $e({}),e.$on("select",o[0]),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},p:j,i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function he(o){let e,r,t,l;return e=new N.Header({props:{$$slots:{default:[_e]},$$scope:{ctx:o}}}),t=new N.Content({props:{$$slots:{default:[me]},$$scope:{ctx:o}}}),{c(){m(e.$$.fragment),r=M(),m(t.$$.fragment)},l(n){h(e.$$.fragment,n),r=V(n),h(t.$$.fragment,n)},m(n,s){d(e,n,s),S(n,r,s),d(t,n,s),l=!0},p(n,s){const a={};s&2&&(a.$$scope={dirty:s,ctx:n}),e.$set(a);const i={};s&2&&(i.$$scope={dirty:s,ctx:n}),t.$set(i)},i(n){l||(f(e.$$.fragment,n),f(t.$$.fragment,n),l=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),l=!1},d(n){g(e,n),n&&$(r),g(t,n)}}}function de(o){let e,r;return e=new N.Box({props:{fill:!0,$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},p(t,l){const n={};l&2&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function ge(o){let e,r;return e=new ie({props:{w:ve,h:pe,$$slots:{default:[de]},$$scope:{ctx:o}}}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},p(t,[l]){const n={};l&2&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}let pe=640,ve=640;function be(o){return[r=>{console.log("FLAVOR>",r.detail),se(r.detail.flavor),ae()}]}class ke extends E{constructor(e){super();I(this,e,be,ge,D,{})}}class Se extends E{constructor(e){super();I(this,e,null,null,D,{})}}function K(o,e,r){const t=o.slice();return t[3]=e[r],t}function Q(o,e,r){const t=o.slice();return t[6]=e[r],t}function T(o){let e,r,t;return r=new ce({props:{flavor:o[0].flavor,card:o[0].table[o[6]]}}),{c(){e=b("div"),m(r.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var n=z(e);h(r.$$.fragment,n),n.forEach($),this.h()},h(){p(e,"class","card svelte-1xqrcl5")},m(l,n){S(l,e,n),d(r,e,null),t=!0},p(l,n){const s={};n&1&&(s.flavor=l[0].flavor),n&1&&(s.card=l[0].table[l[6]]),r.$set(s)},i(l){t||(f(r.$$.fragment,l),t=!0)},o(l){u(r.$$.fragment,l),t=!1},d(l){l&&$(e),g(r)}}}function W(o){let e,r,t,l=o[3],n=[];for(let a=0;a<l.length;a+=1)n[a]=T(Q(o,l,a));const s=a=>u(n[a],1,1,()=>{n[a]=null});return{c(){e=b("div");for(let a=0;a<n.length;a+=1)n[a].c();r=M(),this.h()},l(a){e=k(a,"DIV",{class:!0});var i=z(e);for(let c=0;c<n.length;c+=1)n[c].l(i);r=V(i),i.forEach($),this.h()},h(){p(e,"class","row svelte-1xqrcl5")},m(a,i){S(a,e,i);for(let c=0;c<n.length;c+=1)n[c].m(e,null);y(e,r),t=!0},p(a,i){if(i&5){l=a[3];let c;for(c=0;c<l.length;c+=1){const _=Q(a,l,c);n[c]?(n[c].p(_,i),f(n[c],1)):(n[c]=T(_),n[c].c(),f(n[c],1),n[c].m(e,r))}for(P(),c=l.length;c<n.length;c+=1)s(c);A()}},i(a){if(!t){for(let i=0;i<l.length;i+=1)f(n[i]);t=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)u(n[i]);t=!1},d(a){a&&$(e),F(n,a)}}}function we(o){let e,r,t=o[2],l=[];for(let s=0;s<t.length;s+=1)l[s]=W(K(o,t,s));const n=s=>u(l[s],1,1,()=>{l[s]=null});return{c(){e=b("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var a=z(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach($),this.h()},h(){p(e,"class","table svelte-1xqrcl5")},m(s,a){S(s,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null);r=!0},p(s,[a]){if(a&5){t=s[2];let i;for(i=0;i<t.length;i+=1){const c=K(s,t,i);l[i]?(l[i].p(c,a),f(l[i],1)):(l[i]=W(c),l[i].c(),f(l[i],1),l[i].m(e,null))}for(P(),i=t.length;i<l.length;i+=1)n(i);A()}},i(s){if(!r){for(let a=0;a<t.length;a+=1)f(l[a]);r=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)u(l[a]);r=!1},d(s){s&&$(e),F(l,s)}}}function ze(o,e,r){let t;const l=H(B,"game");L(o,l,s=>r(0,t=s));let n=Array.rectRange(3,t.flavor.tableCards/3);return[t,l,n]}class ye extends E{constructor(e){super();I(this,e,ze,we,D,{})}}function xe(o){let e,r;return e=new ye({}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Ee(o){let e,r;return e=new Se({}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Ie(o){let e,r;return e=new ke({}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function De(o){let e,r,t,l,n;const s=[Ie,Ee,xe],a=[];function i(c,_){return c[0]===C.CONFIGURING?0:c[0]===C.READY?1:c[0]===C.PLAYING||c[0]===C.DONE?2:-1}return~(e=i(o))&&(r=a[e]=s[e](o)),l=new oe({}),{c(){r&&r.c(),t=M(),m(l.$$.fragment)},l(c){r&&r.l(c),t=V(c),h(l.$$.fragment,c)},m(c,_){~e&&a[e].m(c,_),S(c,t,_),d(l,c,_),n=!0},p(c,[_]){let x=e;e=i(c),e!==x&&(r&&(P(),u(a[x],1,1,()=>{a[x]=null}),A()),~e?(r=a[e],r||(r=a[e]=s[e](c),r.c()),f(r,1),r.m(t.parentNode,t)):r=null)},i(c){n||(f(r),f(l.$$.fragment,c),n=!0)},o(c){u(r),u(l.$$.fragment,c),n=!1},d(c){~e&&a[e].d(c),c&&$(t),g(l,c)}}}function Me(o,e,r){let t;re(()=>{Y()}),le(()=>{Y()});const l=H(B,"status");return L(o,l,n=>r(0,t=n)),[t,l]}class Ve extends E{constructor(e){super();I(this,e,Me,De,D,{})}}function je(o){let e,r;return e=new Ve({}),{c(){m(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,l){d(e,t,l),r=!0},p:j,i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}class Oe extends E{constructor(e){super();I(this,e,null,je,D,{})}}export{Oe as default};
